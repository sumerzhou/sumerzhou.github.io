<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>GO语言在前端的应用 |sumerzhou's blog</title>
    <link href="myblog.css" rel="stylesheet" type="text/css">
    <script src="myblog.js" type="text/javascript"></script>
    <script src="http://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
    <style>
        .textBox{
            width: 980px;
            border-radius: 20px;
            position: relative;
            padding: 10px;
            top: 105px;
            line-height: 2em;
        }
        .textBox h2{
            margin-top: 10px;
            text-indent: 2em;
            text-shadow: 2px 2px 1px dodgerblue;
        }
        .textBox h3{
            margin-top: 10px;
            border-bottom:1px solid lightblue;
            box-shadow: 2px 2px 1px black;
        }
        .textBox h4{
            text-shadow: 1px 1px 2px #4F68B0;
        }
        .textBox p{
            text-indent: 2em;
        }
        .textBox li{
            text-indent: 2em;
            list-style: none;
        }
        .textBox pre{
            display: block;
            width: 850px;
            border-left: 1px solid black;
            border-right: 1px solid black;
            box-shadow: 4px 3px 2px black;
            padding-left: 30px;
            position: relative;
            left: -30px;
            font-family: '仿宋';
            background-color: rgb(40,44,52);
            line-height: 1.5;
            font-size: 15px;
            color:white;
            overflow-y: auto;
        }
        .highlight{
            background-color: rgb(255,243,212);
        }
    </style>
</head>
<body>
<!--header-->
<div class="headerbox">
    <div class="headertop">
        <div class="hdtopbut">
            <a href="http://blog.hungking.cc/" target="_blank"><img src="imgs/sns_blog_off.png"></a>
            <a href="https://www.facebook.com/HoungkingHsi" target="_blank"><img src="imgs/sns_facebook_off.png"></a>
            <a href="http://globalblog.hungking.cc/" target="_blank"><img src="imgs/sns_gBlog_off.png"></a>
            <a href="http://www.linkedin.com/imisslovelove" target="_blank"><img src="imgs/sns_in_off.png"></a>
            <a href="http://www.youtube.com/imisslovelove" target="_blank"><img src="imgs/sns_youTube_off.png"></a>
            <a href="http://www.instagram.com/imisslovelove" target="_blank"><img src="imgs/sns_instagram_off.png"></a>
            <a href="http://story.kakao.com/ch/imisslovelove" target="_blank" style="background: transparent none;"><img src="imgs/sns_kakao_off.png"></a>
            <div class="hdtopbutR">
                <a href="construction.html" style="background-position-x:85px ;">Contact Me</a>
                <a href="construction.html">AboutSite</a>
                <span onclick="ifshow(0)">Language<img src="imgs/btn_globalSite_open.gif"></span>
                <ul id="lag">
                    <li>KOREAN</li><li>CHINESE</li><li>JAPANESE</li>
                </ul>
            </div>
        </div>
    </div>
    <div class="headerbotm">
        <a class="logohome" href="http://www.hungking.cc/company"><img src="imgs/blog.png"></a>
        <ul id="hdbotmUl">
            <li>
                <a href="company.html">WEB前端</a>
                <ul class="ultext1">
                    <li>
                        <a href="">HTML</a>
                        <div class="ultext2">
                            <ul>
                                <li><a href="">Corporate Overview</a></li>
                                <li><a href="">Vision of houngking</a></li>
                                <li><a href="">History of houngking</a></li>
                            </ul>
                        </div>
                    </li>
                    <li>
                        <a href="">CSS/CSS3</a>
                        <div class="ultext2">
                            <ul>
                                <li><a>Brand Story</a></li>
                                <li><a>CI</a></li>
                            </ul>
                        </div>
                    </li>
                    <li>
                        <a href="">JavaScript</a>
                        <div class="ultext2">
                            <ul>
                                <li><a>Greetings</a></li>
                                <li><a>CEO's Message</a></li>
                            </ul>
                        </div>
                    </li>
                    <li>
                        <a href="">Ajax</a>
                        <div class="ultext2">
                            <ul>
                                <li><a>hougking Affiliates</a></li>
                                <li><a>Steel</a></li>
                                <li><a>E&C</a></li>
                                <li><a>Trade</a></li>
                                <li><a>ICT</a></li>
                                <li><a>Energy</a></li>
                                <li><a>Material-Chemistry</a></li>
                                <li><a>Support</a></li>
                            </ul>
                        </div>
                    </li>
                    <li>
                        <a href="">jQuery</a>
                        <div class="ultext2">
                            <ul>
                                <li><a>Global</a></li>
                                <li><a>Asia</a></li>
                                <li><a>America</a></li>
                                <li><a>Europe&Africa</a></li>
                            </ul>
                        </div>
                    </li>
                </ul>
            </li>
            <li>
                <a href="company.html">Business Ethics</a>
                <ul class="ultext1">
                    <li>
                        <a href="">Code of Ethics</a>
                        <div class="ultext2">
                            <ul>
                                <li><a href="">CEO Message</a></li>
                                <li><a href="">Ethics Charter</a></li>
                                <li><a href="">Practice Guidelines</a></li>
                            </ul>
                        </div>
                    </li>
                    <li>
                        <a href="">Major Activities</a>
                        <div class="ultext2">
                            <ul>
                                <li><a href="">Operation of the Ethical Management System</a></li>
                                <li><a href="">Education on Corporate Ethics</a></li>
                                <li><a href="">Unethical Act Prevention System</a></li>
                                <li><a href="">External Activities and Results</a></li>
                            </ul>
                        </div>
                    </li>
                </ul>
            </li>
            <li>
                <a href="company.html">Products/Technology</a>
                <ul class="ultext1">
                    <li>
                        <a href="">Products of hounking</a>
                        <div class="ultext2">
                            <ul>
                                <li><a href="">Hot Rolled Steel</a></li>
                                <li><a href="">Steel Plate</a></li>
                                <li><a href="">Winter Day</a></li>
                                <li><a href="">Gold Rolled Steel</a></li>
                                <li><a href="">Galvanized Steel</a></li>
                                <li><a href="">Electrical Galvanized</a></li>
                                <li><a href="">Electrical Steel</a></li>
                                <li><a href="">Automotive materials</a></li>
                                <li><a href="">Stainless Steel</a></li>
                                <li><a href="">Titanium Product</a></li>
                                <li><a href="">Magnesium Product</a></li>
                                <li><a href="">Aluminum-plated products</a></li>
                            </ul>
                        </div>
                    </li>
                    <li>
                        <a href="">houngking Technology</a>
                        <div class="ultext2">
                            <ul>
                                <li><a href="">FINEX Technology</a></li>
                                <li><a href="">Strip Casting</a></li>
                                <li><a href="">Endless Hot Rolling Technology</a></li>
                                <li><a href="">Operation Technology</a></li>
                                <li><a href="">CEM Technology</a></li>
                            </ul>
                        </div>
                    </li>
                    <li style="background-image: none;">
                        <a href="">Production Process</a>
                    </li>
                    <li>
                        <a href="">Sales information</a>
                        <div class="ultext2">
                            <ul>
                                <li><a href="">e-Sales</a></li>
                                <li><a href="">e-Procurement</a></li>
                            </ul>
                        </div>
                    </li>
                </ul>
            </li>
            <li>
                <a href="company.html">Investor Relations</a>
                <ul class="ultext1">
                    <li style="background-image: none;">
                        <a href="">IR Activeties</a>
                    </li>
                    <li>
                        <a href="">Stock Information</a>
                        <div class="ultext2">
                            <ul>
                                <li><a href="">Stock Price</a></li>
                                <li><a href="">Price Comparision</a></li>
                                <li><a href="">ADR</a></li>
                                <li><a href="">houngking Stock Exchange</a></li>
                                <li><a href="">Economic Trend</a></li>
                                <li><a href="">Shareholders Demographics</a></li>
                                <li><a href="">Dividend</a></li>
                            </ul>
                        </div>
                    </li>
                    <li>
                        <a href="">Financial Information</a>
                        <div class="ultext2">
                            <ul>
                                <li><a href="">Income Statement</a></li>
                                <li><a href="">Credit Rating</a></li>
                            </ul>
                        </div>
                    </li>
                    <li>
                        <a href="">IR Archive</a>
                        <div class="ultext2">
                            <ul>
                                <li><a href="">Audit Report</a></li>
                                <li><a href="">Form 20-F</a></li>
                                <li><a href="">Annual Report</a></li>
                            </ul>
                        </div>
                    </li>
                </ul>
            </li>
            <li>
                <a href="company.html">Sustainability</a>
                <ul class="ultext1">
                    <li>
                        <a href="">Sustainability Management System</a>
                        <div class="ultext2">
                            <ul>
                                <li><a href="">Sustainability Management System</a></li>
                                <li><a href="">houngking Subsidiaries CSR Assessment</a></li>
                                <li><a href="">Risk Management</a></li>
                                <li><a href="">Stakeholder</a></li>
                                <li><a href="">Relevant Institutes Activities</a></li>
                            </ul>
                        </div>
                    </li>
                    <li style="background-image: none;">
                        <a href="">Social Responsibility </a>
                    </li>
                    <li>
                        <a href="">Environmental Management </a>
                        <div class="ultext2">
                            <ul>
                                <li><a href="">Family's Environmental Management</a></li>
                                <li><a href="">Environmental Management</a></li>
                                <li><a href="">Climate change /Energy</a></li>
                            </ul>
                        </div>
                    </li>
                    <li>
                        <a href="">Customer</a>
                        <div class="ultext2">
                            <ul>
                                <li><a href="">Marketing strategy</a></li>
                            </ul>
                        </div>
                    </li>
                    <li>
                        <a href="">Employee</a>
                        <div class="ultext2">
                            <ul>
                                <li><a href="">Employee Health / Safety</a></li>
                                <li><a href="">Organizational Culture</a></li>
                                <li><a href="">HR system</a></li>
                            </ul>
                        </div>
                    </li>
                    <li>
                        <a href="">Report</a>
                        <div class="ultext2">
                            <ul>
                                <li><a href="">Sustainability Report</a></li>
                                <li><a href="">Carbon Report</a></li>
                                <li><a href="">Conflict Minerals Disclosure</a></li>
                            </ul>
                        </div>
                    </li>
                </ul>
            </li>
            <li>
                <a href="company.html">PR Room</a>
                <ul class="ultext1">
                    <li style="background-image: none;">
                        <a href="">News room</a>
                    </li>
                    <li style="background-image: none;">
                        <a href="">News letter</a>
                    </li>
                    <li style="background-image: none;">
                        <a href="">houngking SNS</a>
                    </li>
                    <li>
                        <a href="">PR Archives</a>
                        <div class="ultext2">
                            <ul>
                                <li><a href="">Digital Brochure</a></li>
                                <li><a href="">TV Cormmercials</a></li>
                                <li><a href="">Screen Saver</a></li>
                                <li><a href="">PR Movies</a></li>
                                <li><a href="">Printed Advertisement</a></li>
                            </ul>
                        </div>
                    </li>
                    <li>
                        <a href="">Download</a>
                        <div class="ultext2">
                            <ul>
                                <li><a href="">Company</a></li>
                                <li><a href="">Products/Technology</a></li>
                                <li><a href="">Investor Relations</a></li>
                                <li><a href="">Sustainability</a></li>
                                <li><a href="">PR Room</a></li>
                            </ul>
                        </div>
                    </li>
                </ul>
            </li>
        </ul>
        <img src="imgs/btn_gnb.png" class="imgbtn" id="imgbtn" onclick="ifshow(1)">
        <img src="imgs/btn_search.png" class="imgbtn2" onclick="ifshow(2)">
        <div class="hdmenu" id="hdmenu">
            <a href="">Open submenu</a>
            <ul class="menutxt1">
                <li>
                    <a href="">Company</a>
                    <ul>
                        <li><a href="">Corporate Overview</a></li>
                        <li><a href="">Brand</a></li>
                        <li><a href="">CEO</a></li>
                        <li><a href="">hounking Affiliates</a></li>
                        <li><a href="">hounking Overseas</a></li>
                    </ul>
                </li>
                <li>
                    <a href="">Business Ethics</a>
                    <ul>
                        <li><a href="">Code of Ethics</a></li>
                        <li><a href="">Major Activities</a></li>
                    </ul>
                </li>
                <li>
                    <a href="">Products/Technology</a>
                    <ul>
                        <li><a href="">Products of houngking</a></li>
                        <li><a href="">hounking Technology</a></li>
                        <li><a href="">Production Process</a></li>
                        <li><a href="">Sales informtion</a></li>
                    </ul>
                </li>
                <li style="padding: 0px;">
                    <a href="">Investor Relations</a>
                    <ul>
                        <li><a href="">IR Activities</a></li>
                        <li><a href="">Stock Information</a></li>
                        <li><a href="">Financial Information</a></li>
                        <li><a href="">IR Archive</a></li>
                    </ul>
                </li>
                <li>
                    <a href="">Sustainability</a>
                    <ul>
                        <li><a href="">Suatainability Management System</a></li>
                        <li><a href="">Social Redponsibility</a></li>
                        <li><a href="">Environmental Management</a></li>
                        <li><a href="">Customer</a></li>
                        <li><a href="">Employee</a></li>
                        <li><a href="">Report</a></li>
                    </ul>
                </li>
                <li>
                    <a href="">PR Room</a>
                    <ul>
                        <li><a href="">Newsroom</a></li>
                        <li><a href="">Newsletter</a></li>
                        <li><a href="">houngking SNS</a></li>
                        <li><a href="">PR Archives</a></li>
                        <li><a href="">Download</a></li>
                    </ul>
                </li>
                <li>
                    <a href="">Contact Us</a>
                    <ul>
                        <li><a href="">Q&A</a></li>
                        <li><a href="">Search</a></li>
                        <li><a href="">Location</a></li>
                        <li><a href="">Sitemap</a></li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
</div>
<!--text-->
<div class="textBox">
    <h2>GO语言在前端的应用</h2>
    <h3>1, 前端为啥需要学习go</h3>
    <h5>a, What is go? </h5>
    <p>Go语言是对类C语言的重大改进，不但能访问底层操作系统，还可以进行网络编程、系统编程、并发编程、分布式编程。</p>
    <h5>b, 优势 :</h5>
    <p>快速编译，高效执行，易于开发</p>
    <h5>c, Why go ？</h5>
    <p>A,语法简单易懂，学习曲线平缓，一个熟练的开发者只需要短短一周时间就可以从学习阶段转到开发阶段；</p>
    <p>B, Go语言支持交叉编译，比如说你可以在运行 Linux 系统的计算机上开发可以在 Windows 上运行的应用程序</p>
    <p> C,后端技术标准化的发展，未来更多的经历会花在前端；js的流行主要是因为它的垄断地位，但前端也需要工程化更强的语言；而go自身的发展和特性，也会往前端发展，从1.11版本开始，go内建支持了webassembly</p>
    <h3>2 跑第一个go程序</h3>
    <p>● 安装Go开发包：https://golang.google.cn/dl/，Mac下傻瓜式安装 </p>
    <p>● 几个重要的环境变量：</p>
    <p>$GOROOT ： Go 在电脑上的安装位置，Mac是在/usr/local/go目录下</p>
    <p>$GOPATH：工作区的目录路径，mac下默认安装在 $HOME/go。它可以包含多个 Go 语言源码文件、包文件和可执行文件的路径，而这些路径下又必须分别包含三个规定的目录：src、pkg 和 bin，这三个目录分别用于存放源码文件、包文件和可执行文件。</p>
    <p> $GOBIN: 如果 GOPATH 里面包含多个工作区路径的时候，必须设置 GOBIN 环境变量，否则就无法安装 Go 程序的可执行文件</p>
    <p>● 几个概念 :</p>
    <p>工作区：工作区可以只有一个，也可以有多个，这些工作区的目录路径都需要添加到 GOPATH 中</p>
    <p>go源码文件：命令源码文件、库源码文件</p>
    <div style="position: relative">
        <img src="./imgs/55_4.png" alt="" style="height: 500px">
        <div style="position: absolute; font-size: 12px; width: 240px;top:25px; line-height: 1.1">
            <span>命令源码文件是 Go 程序的入口。</span><br>
            <span>属于 main 代码包、包含无参数声明和结果声明的 main 函数。</span><br>
            <span>命令源码文件被安装以后，GOPATH 如果只有一个工作区，那么相应的可执行文件会被存放当前工作区的 bin 文件夹下；如果有多个工作区，就会安装到 GOBIN 指向的目录下。</span><br>
            <span>同一个代码包中最好也不要放多个命令源码文件。多个命令源码文件虽然可以分开单独 go run 运行起来，但是无法通过 go build 和 go install。</span>
        </div>
        <div style="position: absolute; font-size: 12px; width: 500px;top:380px; line-height: 1.1">
            <span>库源码文件声明的包名会与它直接所属的代码包（目录）名一致，且库源码文件中不包含无参数声明和无结果声明的 main 函数。是存在于某个代码包中的普通的源码文件。被安装后，相应的归档文件（.a 文件）会被存放到当前工作区的 pkg 的平台相关目录下。</span>
        </div>
        <div style="position: absolute; font-size: 12px; width: 200px;top:260px; left:490px;line-height: 1.1">
            <span>一种特殊的库文件，可以通过执行 go test 命令运行当前代码包下的所有测试源码文件</span>
        </div>
    </div>
    <h4>Go语言结构：</h4>
    <img src="./imgs/golang-structor.png" alt="" style="height: 200px">
    <p>● 基础组成：包声明、引入包、函数、变量、语句&表达式</p>
    <p>● 必须在源文件中非注释的第一行指明文件的包名，package main表示一个可独立执行的程序，每个 Go 应用程序都包含一个名为 main 的包。</p>
    <p>● main 函数是每一个可执行程序所必须包含的，一般来说都是在启动后第一个执行的函数（如果有 init() 函数则会先执行该函数）。</p>
    <p>● 同一个文件夹下的文件只能有一个包名，否则编译报错。</p>
    <h4>Go编译相关的4个重要命令：</h4>
    <h5>1, go run </h5>
    <p>专门用来运行命令源码文件的命令，注意，这个命令不是用来运行所有 Go 的源码文件的！</p>
    <p>只能接受一个命令源码文件以及若干个库源码文件（必须同属于 main 包）作为文件参数</p>
    <img src="./imgs/55_7.png" alt="" style="height: 350px">
    <p> 创建了两个临时文件夹 _obj 和 exe，先执行了 compile 命令，然后 link，生成了归档文件.a 和 最终可执行文件，最终的可执行文件放在 exe 文件夹里面。命令的最后一步就是执行了可执行文件</p>
    <h5>2, go build</h5>
    <div>
        <div style="display: inline-block; width: 48%;">
            <span>用于编译我们指定的源码文件或代码包
            以及它们的依赖包。但是注意如果用来编译非
            命令源码文件，即库源码文件，go build 执行
            完是不会产生任何结果的。这种情况下，go
            build 命令只是检查库源码文件的有效性，只
            会做检查性的编译，而不会输出任何结果文件。
            </span><br>
            <span>
            当代码包中有且仅有一个命令源码文件
            的时候，在文件夹所在目录中执行 go build
             命令，会在该目录下生成一个与目录同名的
            可执行文件。</span><br>
            <span> 执行过程和 go run 大体相同，唯一不同
            的就是在最后一步，go run 是执行了可执行文
            件，但是 go build 命令是把可执行文件移动到
            了当前目录的文件夹中。
            </span>
        </div>
        <img src="./imgs/55_9.png" alt="" style="width: 50%">
    </div>
    <h5>3, go install</h5>
    <div>
        <div style="display: inline-block; width: 48%;">
            <span> go install 命令是用来编译并安装代码包或者
源码文件的。</span><br>
            <span> 实际上，go install 命令只比 go build 命令多
做了一件事，即：安装编译后的结果文件到指定目
录。</span><br>
            <span>如果 GOPATH 里面只有一个工作区，安装命
令源码文件就会在当前工作区的 bin 目录下生成
相应的可执行文件。如果 GOPATH 下有多个工作
区，则是在 GOBIN 下生成对应的可执行文件。也
就是说，使用 go install 命令会把go build 命令
执行出来的可执行文件移动到 bin 目录下（如果
 GOPATH 下有多个工作区，就会放在 GOBIN 目
录下）。安装代码包会在当前工作区的 pkg 的平
台相关目录下生成归档文件（即 .a 文件）。</span>
        </div>
        <img src="./imgs/55_10.png" alt="" style="width: 50%">
    </div>
    <h5>4, go get </h5>
    <p>go get 命令用于从远程代码仓库（比如 Github ）上下载并安装代码包。注意，go get 命令会把当前的代码包下载到 $GOPATH 中的第一个工作区的 src 目录中，并安装。</p>
    <img src="./imgs/55_12.png" alt="" style="height: 300px">
    <h4>执行第一个Go程序：</h4>
    <p>1,将上面的“hello world”代码保存为hello.go, 放入名为testgo的目录中</p>
    <p>2,在目录下打开命令行，输入命令 go run hello.go 并按回车执行代码。</p>
    <p>3，还可以使用 go build 命令来生成二进制可执行文件后运行：</p>
    <pre>
$ go build
$ ls
testgo    hello.go
$ ./testgo
Hello, World!</pre>
    <h3>3, go编写webassembly</h3>
    <h4>webassembly :</h4>
    <h5>What’s this?</h5>
    <p>webassembly是可以支持在web浏览器或者v8等环境下的二进制格式，是除了 JavaScript 以外，另一种可以在浏览器中执行的编程语言。所以当人们说 WebAssembly 更快的时候，一般来讲是与 JavaScript 相比而言的，JavaScript引擎破译二进制格式的速度要快得多。</p>
    <h5>What’s the reason?</h5>
    <p>支持WebAssembly的浏览器可以识别二进制格式的文本，它有能力编译比JS文本小得多的二进制包。 这将给web应用带来类似与本地应用的性能体验</p>
    <h5>为啥这玩意会影响每一个web开发者？</h5>
    <p>webassembly让开发者有能力选择之前那些不能用来开发web应用的语言来进行web开发。最好不要把WebAssembly仅仅当做一门编程语言，实际上它更像是一个编译器</p>
    <h4>开始：</h4>
    <h5>· go 版本1.11以上。 （本文测试时的环境：--- go version 1.13.4）</h5>
    <h5>· 编写需要编译成wasm文件的go文件</h5>
    <p>比如一个main.go的文件</p>
    <h5>· 执行build命令</h5>
    <p>GOARCH=wasm GOOS=js go build -o test.wasm main.go</p>
    <p>注意这个是在mac或者linux操作系统下执行的命令，在windows下应该设置环境变量再执行编译命令</p>
    <p> 命令执行完后，后生成test.wasm文件，这个就是可以在浏览器上运行的二进制文件</p>
    <p> 注：Go 官方对 WebAssembly Go 的支持，是在编译过程把 GOOS 环境变量定义成 js，架构选 wasm，这样就可以编译出 wasm 文件</p>
    <h5>· 复制$(go env GOROOT)/misc/wasm/下的wasm_exec.html和wasm_exec.js两个文件到当前目录</h5>
    <h5>· 在目录下搭建web服务器并运行 </h5>



    <br>
    <h5>参考:</h5>
    <a href="https://www.infoq.cn/article/203oL6oGTDZBeq1E00Sy" target="_blank">再谈 Go 语言在前端的应用前景</a>,<br>
    <a href="https://github.com/unknwon/the-way-to-go_ZH_CN" target="_blank">《The Way to Go》中文译本</a>,<br>
    <a href="http://c.biancheng.net/view/6.html" target="_blank">Go语言教程</a>,<br>
    <a href="https://laucyun.com/5d140bb00295137f0caa0ade248390fb.html" target="_blank">Golang在Mac、Linux、Windows下如何交叉编译</a>,<br>
    <a href="https://zhuanlan.zhihu.com/p/43506954" target="_blank">使用go编写webassembly</a>,<br>
    <a href="https://halfrost.com/go_command/" target="_blank">初探 Go 的编译命令执行过程</a>, <br>

</div>

</body>
</html>
