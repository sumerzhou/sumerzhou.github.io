<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>音视频|sumerzhou's blog</title>
    <link href="myblog.css" rel="stylesheet" type="text/css">
    <script src="myblog.js" type="text/javascript"></script>
    <style>
        .textBox{
            width: 980px;
            border-radius: 20px;
            position: relative;
            padding: 10px;
            top: 105px;
            line-height: 2em;
        }
        .textBox h2{
            margin-top: 10px;
            text-indent: 2em;
            text-shadow: 2px 2px 1px dodgerblue;
        }
        .textBox h3{
            margin-top: 10px;
            border-bottom:1px solid lightblue;
            box-shadow: 2px 2px 1px black;
        }
        .textBox p{
            text-indent: 2em;
        }
        .textBox li{
            text-indent: 2em;
            list-style: none;
        }
        .textBox pre{
            display: block;
            width: 850px;
            border-left: 1px solid black;
            border-right: 1px solid black;
            box-shadow: 2px 2px 1px black;
            padding-left: 30px;
            position: relative;
            left: -30px;
            font-family: '仿宋';
        }
    </style>
</head>
<body>
<!--header-->
<div class="headerbox">
    <div class="headertop">
        <div class="hdtopbut">
            <a href="http://blog.hungking.cc/" target="_blank"><img src="imgs/sns_blog_off.png"></a>
            <a href="https://www.facebook.com/HoungkingHsi" target="_blank"><img src="imgs/sns_facebook_off.png"></a>
            <a href="http://globalblog.hungking.cc/" target="_blank"><img src="imgs/sns_gBlog_off.png"></a>
            <a href="http://www.linkedin.com/imisslovelove" target="_blank"><img src="imgs/sns_in_off.png"></a>
            <a href="http://www.youtube.com/imisslovelove" target="_blank"><img src="imgs/sns_youTube_off.png"></a>
            <a href="http://www.instagram.com/imisslovelove" target="_blank"><img src="imgs/sns_instagram_off.png"></a>
            <a href="http://story.kakao.com/ch/imisslovelove" target="_blank" style="background: transparent none;"><img src="imgs/sns_kakao_off.png"></a>
            <div class="hdtopbutR">
                <a href="construction.html" style="background-position-x:85px ;">Contact Me</a>
                <a href="construction.html">AboutSite</a>
                <span onclick="ifshow(0)">Language<img src="imgs/btn_globalSite_open.gif"></span>
                <ul id="lag">
                    <li>KOREAN</li><li>CHINESE</li><li>JAPANESE</li>
                </ul>
            </div>
        </div>
    </div>
    <div class="headerbotm">
        <a class="logohome" href="http://www.hungking.cc/company"><img src="imgs/blog.png"></a>
        <ul id="hdbotmUl">
            <li>
                <a href="company.html">WEB前端</a>
                <ul class="ultext1">
                    <li>
                        <a href="">HTML</a>
                        <div class="ultext2">
                            <ul>
                                <li><a href="">Corporate Overview</a></li>
                                <li><a href="">Vision of houngking</a></li>
                                <li><a href="">History of houngking</a></li>
                            </ul>
                        </div>
                    </li>
                    <li>
                        <a href="">CSS/CSS3</a>
                        <div class="ultext2">
                            <ul>
                                <li><a>Brand Story</a></li>
                                <li><a>CI</a></li>
                            </ul>
                        </div>
                    </li>
                    <li>
                        <a href="">JavaScript</a>
                        <div class="ultext2">
                            <ul>
                                <li><a>Greetings</a></li>
                                <li><a>CEO's Message</a></li>
                            </ul>
                        </div>
                    </li>
                    <li>
                        <a href="">Ajax</a>
                        <div class="ultext2">
                            <ul>
                                <li><a>hougking Affiliates</a></li>
                                <li><a>Steel</a></li>
                                <li><a>E&C</a></li>
                                <li><a>Trade</a></li>
                                <li><a>ICT</a></li>
                                <li><a>Energy</a></li>
                                <li><a>Material-Chemistry</a></li>
                                <li><a>Support</a></li>
                            </ul>
                        </div>
                    </li>
                    <li>
                        <a href="">jQuery</a>
                        <div class="ultext2">
                            <ul>
                                <li><a>Global</a></li>
                                <li><a>Asia</a></li>
                                <li><a>America</a></li>
                                <li><a>Europe&Africa</a></li>
                            </ul>
                        </div>
                    </li>
                </ul>
            </li>
            <li>
                <a href="company.html">Business Ethics</a>
                <ul class="ultext1">
                    <li>
                        <a href="">Code of Ethics</a>
                        <div class="ultext2">
                            <ul>
                                <li><a href="">CEO Message</a></li>
                                <li><a href="">Ethics Charter</a></li>
                                <li><a href="">Practice Guidelines</a></li>
                            </ul>
                        </div>
                    </li>
                    <li>
                        <a href="">Major Activities</a>
                        <div class="ultext2">
                            <ul>
                                <li><a href="">Operation of the Ethical Management System</a></li>
                                <li><a href="">Education on Corporate Ethics</a></li>
                                <li><a href="">Unethical Act Prevention System</a></li>
                                <li><a href="">External Activities and Results</a></li>
                            </ul>
                        </div>
                    </li>
                </ul>
            </li>
            <li>
                <a href="company.html">Products/Technology</a>
                <ul class="ultext1">
                    <li>
                        <a href="">Products of hounking</a>
                        <div class="ultext2">
                            <ul>
                                <li><a href="">Hot Rolled Steel</a></li>
                                <li><a href="">Steel Plate</a></li>
                                <li><a href="">Winter Day</a></li>
                                <li><a href="">Gold Rolled Steel</a></li>
                                <li><a href="">Galvanized Steel</a></li>
                                <li><a href="">Electrical Galvanized</a></li>
                                <li><a href="">Electrical Steel</a></li>
                                <li><a href="">Automotive materials</a></li>
                                <li><a href="">Stainless Steel</a></li>
                                <li><a href="">Titanium Product</a></li>
                                <li><a href="">Magnesium Product</a></li>
                                <li><a href="">Aluminum-plated products</a></li>
                            </ul>
                        </div>
                    </li>
                    <li>
                        <a href="">houngking Technology</a>
                        <div class="ultext2">
                            <ul>
                                <li><a href="">FINEX Technology</a></li>
                                <li><a href="">Strip Casting</a></li>
                                <li><a href="">Endless Hot Rolling Technology</a></li>
                                <li><a href="">Operation Technology</a></li>
                                <li><a href="">CEM Technology</a></li>
                            </ul>
                        </div>
                    </li>
                    <li style="background-image: none;">
                        <a href="">Production Process</a>
                    </li>
                    <li>
                        <a href="">Sales information</a>
                        <div class="ultext2">
                            <ul>
                                <li><a href="">e-Sales</a></li>
                                <li><a href="">e-Procurement</a></li>
                            </ul>
                        </div>
                    </li>
                </ul>
            </li>
            <li>
                <a href="company.html">Investor Relations</a>
                <ul class="ultext1">
                    <li style="background-image: none;">
                        <a href="">IR Activeties</a>
                    </li>
                    <li>
                        <a href="">Stock Information</a>
                        <div class="ultext2">
                            <ul>
                                <li><a href="">Stock Price</a></li>
                                <li><a href="">Price Comparision</a></li>
                                <li><a href="">ADR</a></li>
                                <li><a href="">houngking Stock Exchange</a></li>
                                <li><a href="">Economic Trend</a></li>
                                <li><a href="">Shareholders Demographics</a></li>
                                <li><a href="">Dividend</a></li>
                            </ul>
                        </div>
                    </li>
                    <li>
                        <a href="">Financial Information</a>
                        <div class="ultext2">
                            <ul>
                                <li><a href="">Income Statement</a></li>
                                <li><a href="">Credit Rating</a></li>
                            </ul>
                        </div>
                    </li>
                    <li>
                        <a href="">IR Archive</a>
                        <div class="ultext2">
                            <ul>
                                <li><a href="">Audit Report</a></li>
                                <li><a href="">Form 20-F</a></li>
                                <li><a href="">Annual Report</a></li>
                            </ul>
                        </div>
                    </li>
                </ul>
            </li>
            <li>
                <a href="company.html">Sustainability</a>
                <ul class="ultext1">
                    <li>
                        <a href="">Sustainability Management System</a>
                        <div class="ultext2">
                            <ul>
                                <li><a href="">Sustainability Management System</a></li>
                                <li><a href="">houngking Subsidiaries CSR Assessment</a></li>
                                <li><a href="">Risk Management</a></li>
                                <li><a href="">Stakeholder</a></li>
                                <li><a href="">Relevant Institutes Activities</a></li>
                            </ul>
                        </div>
                    </li>
                    <li style="background-image: none;">
                        <a href="">Social Responsibility </a>
                    </li>
                    <li>
                        <a href="">Environmental Management </a>
                        <div class="ultext2">
                            <ul>
                                <li><a href="">Family's Environmental Management</a></li>
                                <li><a href="">Environmental Management</a></li>
                                <li><a href="">Climate change /Energy</a></li>
                            </ul>
                        </div>
                    </li>
                    <li>
                        <a href="">Customer</a>
                        <div class="ultext2">
                            <ul>
                                <li><a href="">Marketing strategy</a></li>
                            </ul>
                        </div>
                    </li>
                    <li>
                        <a href="">Employee</a>
                        <div class="ultext2">
                            <ul>
                                <li><a href="">Employee Health / Safety</a></li>
                                <li><a href="">Organizational Culture</a></li>
                                <li><a href="">HR system</a></li>
                            </ul>
                        </div>
                    </li>
                    <li>
                        <a href="">Report</a>
                        <div class="ultext2">
                            <ul>
                                <li><a href="">Sustainability Report</a></li>
                                <li><a href="">Carbon Report</a></li>
                                <li><a href="">Conflict Minerals Disclosure</a></li>
                            </ul>
                        </div>
                    </li>
                </ul>
            </li>
            <li>
                <a href="company.html">PR Room</a>
                <ul class="ultext1">
                    <li style="background-image: none;">
                        <a href="">News room</a>
                    </li>
                    <li style="background-image: none;">
                        <a href="">News letter</a>
                    </li>
                    <li style="background-image: none;">
                        <a href="">houngking SNS</a>
                    </li>
                    <li>
                        <a href="">PR Archives</a>
                        <div class="ultext2">
                            <ul>
                                <li><a href="">Digital Brochure</a></li>
                                <li><a href="">TV Cormmercials</a></li>
                                <li><a href="">Screen Saver</a></li>
                                <li><a href="">PR Movies</a></li>
                                <li><a href="">Printed Advertisement</a></li>
                            </ul>
                        </div>
                    </li>
                    <li>
                        <a href="">Download</a>
                        <div class="ultext2">
                            <ul>
                                <li><a href="">Company</a></li>
                                <li><a href="">Products/Technology</a></li>
                                <li><a href="">Investor Relations</a></li>
                                <li><a href="">Sustainability</a></li>
                                <li><a href="">PR Room</a></li>
                            </ul>
                        </div>
                    </li>
                </ul>
            </li>
        </ul>
        <img src="imgs/btn_gnb.png" class="imgbtn" id="imgbtn" onclick="ifshow(1)">
        <img src="imgs/btn_search.png" class="imgbtn2" onclick="ifshow(2)">
        <div class="hdmenu" id="hdmenu">
            <a href="">Open submenu</a>
            <ul class="menutxt1">
                <li>
                    <a href="">Company</a>
                    <ul>
                        <li><a href="">Corporate Overview</a></li>
                        <li><a href="">Brand</a></li>
                        <li><a href="">CEO</a></li>
                        <li><a href="">hounking Affiliates</a></li>
                        <li><a href="">hounking Overseas</a></li>
                    </ul>
                </li>
                <li>
                    <a href="">Business Ethics</a>
                    <ul>
                        <li><a href="">Code of Ethics</a></li>
                        <li><a href="">Major Activities</a></li>
                    </ul>
                </li>
                <li>
                    <a href="">Products/Technology</a>
                    <ul>
                        <li><a href="">Products of houngking</a></li>
                        <li><a href="">hounking Technology</a></li>
                        <li><a href="">Production Process</a></li>
                        <li><a href="">Sales informtion</a></li>
                    </ul>
                </li>
                <li style="padding: 0px;">
                    <a href="">Investor Relations</a>
                    <ul>
                        <li><a href="">IR Activities</a></li>
                        <li><a href="">Stock Information</a></li>
                        <li><a href="">Financial Information</a></li>
                        <li><a href="">IR Archive</a></li>
                    </ul>
                </li>
                <li>
                    <a href="">Sustainability</a>
                    <ul>
                        <li><a href="">Suatainability Management System</a></li>
                        <li><a href="">Social Redponsibility</a></li>
                        <li><a href="">Environmental Management</a></li>
                        <li><a href="">Customer</a></li>
                        <li><a href="">Employee</a></li>
                        <li><a href="">Report</a></li>
                    </ul>
                </li>
                <li>
                    <a href="">PR Room</a>
                    <ul>
                        <li><a href="">Newsroom</a></li>
                        <li><a href="">Newsletter</a></li>
                        <li><a href="">houngking SNS</a></li>
                        <li><a href="">PR Archives</a></li>
                        <li><a href="">Download</a></li>
                    </ul>
                </li>
                <li>
                    <a href="">Contact Us</a>
                    <ul>
                        <li><a href="">Q&A</a></li>
                        <li><a href="">Search</a></li>
                        <li><a href="">Location</a></li>
                        <li><a href="">Sitemap</a></li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
</div>
<!--text-->
<div class="textBox">
        <h2>20170117-音视频</h2>
        <h3>HTML5 视频和音频简介:</h3>
           <p>HTML5 DOM 为audio和video元素提供了方法、属性和事件。&ltvideo&gt标签定义视频，比如电
               影片段或其他视频流;&ltaudio&gt 标签定义声音，比如音乐或其他音频流。audio和video具有
               的方法和属性基本类似,下文以audio为实例重点介绍.
           </p>
        <h3>1，播放暂停模块</h3>
          <p>play()开始播放音频/视频,pause()暂停当前播放的音频/视频.body部分结构如下图:</p>
          <img src="imgs/audioplayer1.png">
          <pre>
              var plist=['播放.png','暂停.png'];
              var n=0;   //用于判断播放状态
              play.src=plist[0];
              play.addEventListener('click',function(){
                  if(n==0){
                     aud.play();
                     play.src=plist[1];
                      n=1;
                      palyprocess();  //调用进度条函数
                  }else{
                      aud.pause();
                      play.src=plist[0];
                      n=0;
                  }
              },false);</pre>
        <h3>2，上/下一曲模块</h3>
           <p>此处用到autoplay 属性。autoplay 属性设置或返回音视频是否在加载后即开始播放,它的
               属性值为布尔值true/false。当切换到上/下一曲时,开始自动播放.</p>
           <pre>
        上一曲:last.addEventListener('click',function (){
                   play.src=plist[1];
                   n=1;
                   if(m!=-1){      //m变量用来判断当前的播放模式.在播放模式模块有定义.
                       index-=1;
                       if(index<0){
                           index=4;
                       }
                       aud.src=songs[index]; //建立一个存放歌曲的数组songs
                   }else{
                       index=parseInt(Math.random()*songs.length);
                       aud.src=songs[index];
                   }
                       aud.autoplay=true;
                   palyprocess();
               },false);
       下一曲:next.addEventListener('click',function(){
                   play.src=plist[1];
                   n=1;
                   if(m!=-1){
                       index+=1;
                       if(index>4){
                           index=0;
                       }
                      aud.src=songs[index];
                   }else{
                       index=parseInt(Math.random()*songs.length);
                       aud.src=songs[index];
                   }
                   aud.autoplay=true;
                   palyprocess();
               },false);</pre>
        <h3>3，播放模式切换模块</h3>
           <pre>
               var mlist=['循环播放.png','单曲循环.png','随机播放.png'];
               var m=0;  //定义用来判断当前播放模式的标记变量
               mode.addEventListener('click',function(){
                   m+=1;
                  if(m==0){
                      mode.src=mlist[0];
                  }else if(m==1){
                      aud.loop=true;  //loop 属性设置或返回音频/视频是否应该在结束时再次播放,值为布尔值。
                      mode.src=mlist[1];
                  }else{
                      aud.loop=false;
                      mode.src=mlist[2];
                      m=-1;
                  }
               },false);</pre>
           <p>在循环播放和随机播放模式下,一首歌曲结束会自动进入下一首,
           这里会使用到ended属性或ended事件。ended属性返回音频/视频是否已结束,返回值为布尔值;ended
           事件来判断当目前的播放列表已结束时。代码如下:</p>
           <pre>
               //判断歌曲是否结束
              aud.addEventListener('ended',function (){
                  if(n==1&&m==0){
                      index+=1;
                      if(index>4){
                          index=0;
                      }
                      aud.src=songs[index];
                      aud.autoplay=true;
                      palyprocess();
                  }else if(n==1&&m==-1){
                      index=parseInt(Math.random()*songs.length);
                      aud.src=songs[index];
                      aud.autoplay=true;
                      palyprocess();
                  }
              },false);
           </pre>
        <h3>4，播放进度模块:a,音乐播放进度模块;b,音乐缓存进度模块;c,进度拖放模块</h3>
           <p>此处用到currentTime,duration和buffered属性。currentTime
               属性设置或返回音频/视频播放的当前位置（以秒计）,当设置该属性时，播放会跳跃到指定的位置。
               duration 属性返回当前音频/视频的长度，以秒计,如果未设置音频/视频，则返回 NaN (Not-a-Number)。
               buffered 属性返回 TimeRanges 对象,TimeRanges 对象表示用户的音视频缓冲范围,缓冲范围指的是已
               缓冲音视频的时间范围。如果用户在音视频中跳跃播放，会得到多个缓冲范围;TimeRanges 对象的属性有length
               获得音视频中已缓冲范围的数量,start(index)获得某个已缓冲范围的开始位置,end(index)属性获得某个已缓
               冲范围的结束位置,首个缓冲范围的下表是 0。</p>
           <pre>
              //a,音乐播放进度模块
               var time;
               function palyprocess(){
                   clearInterval(time);
                   time=setInterval(barprocess,100);
                   return time;
               }
               function barprocess(){
                   playtimes[0].innerHTML=detection(parseInt(aud.currentTime/60))+':'+   //显示当前播放进度时间
                                          detection(parseInt(aud.currentTime%60));
                   playtimes[1].innerHTML=detection(parseInt(aud.duration/60))+':'+      //显示当前歌曲总时间
                                          detection(parseInt(aud.duration%60));
                   bar.style.width=aud.currentTime/aud.duration*480+'px';
               //b,音乐缓存进度模块
                   var timerange=aud.buffered;
                   bufbar.style.width=(timerange.end(timerange.length-1))/aud.duration*480+'px';
               }
               function detection(num){
                   if(num<10){
                       return '0'+num;
                   }else{
                       return num;
                   }
               }

               //c,进度拖放模块
               container.addEventListener('click',barmove,false);  //点击事件
               function barmove(e){
                e=e||window.event;
                bar.style.width= e.clientX-400+'px';
                aud.currentTime=(e.clientX-400)/480*aud.duration;
                }
               container.onmousedown=function(e){    //拖放进度事件
                   var e=e||window.event;
                   clearInterval(time);       //在拖动过程中先停止进度条定时器
                   bar.style.width= e.clientX-400+'px';
                   container.onmousemove=function(e){
                       clearInterval(time);
                       bar.style.width= e.clientX-400+'px';
                   }
                   window.onmouseup=function(e){
                       bar.style.width= e.clientX-400+'px';
                       if((e.clientX-400)/480*aud.duration<(aud.buffered.end(aud.buffered.length-1))){
                       aud.currentTime=(e.clientX-400)/480*aud.duration;
                       }else{
                           bar.style.width=(aud.buffered.end(aud.buffered.length-1))/aud.duration*480+'px';
                           aud.currentTime=aud.buffered.end(aud.buffered.length-1);
                       }
                       container.onmousemove=null;
                       window.onmouseup=null;
                       palyprocess();      //鼠标离开的时候重新开启进度条
                   }
               }</pre>
        <h3>5，音量调节模块</h3>
           <p>音量调节用到volume属性,volume属性设置或返回音频/视频的当前音量,值是
               介于 0.0 与 1.0 之间的数字,0.0 是静音,默认值1.0为最高音量。</p>
           <pre>
               volume.addEventListener('click',volumebarmove,false);
               function volumebarmove(e){
                   e=e||window.event;
                   volumebar.style.height= adbar.offsetTop-e.clientY-10+'px';
                   aud.volume=parseInt(volumebar.style.height)/100;
               }

               volume.onmousedown=function(e){
                   e=e||window.event;
                   volumebar.style.height= adbar.offsetTop-e.clientY-10+'px';
                   volume.onmousemove=function(e){
                       volumebar.style.height= adbar.offsetTop-e.clientY-10+'px';
                       aud.volume=parseInt(volumebar.style.height)/100;
                   }
                   window.onmouseup=function(e){
                       volumebar.style.height= adbar.offsetTop-e.clientY-10+'px';
                       volume.onmousemove=null;
                       window.onmouseup=null;
                   }
               }</pre>
        <h3>6，歌词模块</h3>

        <h3>7，(流程插入)列表选择模块</h3>

</div>
</body>
</html>
<script>

</script>
